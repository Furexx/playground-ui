import { html, PolymerElement } from "@polymer/polymer/polymer-element.js";
import { create } from "./zoom-image.esm";

class ImageZoom extends PolymerElement {

    static get template() {
        return html`<img class="image-zoom-image">`
    }

    static get is() {
        return "image-zoom";
    }

    get image() {
        return this.querySelector(".image-zoom-image");
    }

    _attachDom(dom) {
        this.appendChild(dom);
    }

    initZoom(options, source) {
        const image = this.image;
        image.src = source;
        image.style.cursor = (options || { cursor: "none" }).cursor || "none";
        this.zoom = create(image, options || undefined);
    }

    updateZoom(options, source) {
        const image = this.image;
        image.src = source;
        image.style.cursor = (options || { cursor: "none" }).cursor;
        this.zoom.setOptions(options || undefined);
    }

}

customElements.define(ImageZoom.is, ImageZoom);